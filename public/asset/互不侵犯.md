## 算法

---

[[状压 DP]]

## 状态设计

---

 $f_{i,j,k}$ = 前 $i$ 行取的状态为 $j$ 使用 $k$ 个国王的情况数
 $j$ 为 `bitmark`
 $i$  可压缩

## 状态转移

---

$f_{i,j,k}=\sum f_{i-1,x,k-cnt(x)}$

## 实现

---

### Q1: 如何判断两行是否可行？

这里有三种情况不可以转移

- 两行中有国王的列相同
	这时我们可以使用与运算判断，因为与运算不为零意味着两个状态集合中有相同的位置是一，所以 pass 掉。
- 两行中有国王能斜着攻击
		- 左下
			先右移一位，使它与可能一相同，再用可能一的方法判断
		- 右下
			与左下同理。